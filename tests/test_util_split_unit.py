from IsingRegisterAllocator.util import split_unit

def test_util_split_unit():
    interference = [
        [
            i
            for i, x in enumerate(g)
            if x==1
        ]
        for g in [
            [0,1,1,1,0,0,0,0,1,1,1,1,1,0,1,0,1,1,0,1,],
            [1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,],
            [1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,],
            [1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,],
            [0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,],
            [0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,],
            [0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,],
            [0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,],
            [1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,],
            [1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,],
        ]
    ]

    register_unit = [0,1,1,1,1,1,2,1,1,1,1,1,3,2,1,1,1,4,1,1,]
    split_unit(interference, register_unit)